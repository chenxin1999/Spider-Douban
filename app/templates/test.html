<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>DouBan comment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css" />

    <!-- Compiled and minified JavaScript -->
    <!-- jquery 必须先加载 -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>

</head>

<body>
    <!-- 主导航栏 -->
    <div class="navbar-fixed blue">
        <nav>
            <div class="nav-wrapper blue lighten-1">
                <a href="/posts" class="brand-logo center">
                    <!-- 显示博客的title(为pkg.name) -->
                    <i style="margin-left:10px;" class="material-icons">home</i>douban Comment</a>
                <ul class="right hide-on-med-and-down">
                    <li>
                        <a href="javascript:void(0)" onclick="location.reload()">
                            <i class="material-icons">refresh</i>
                        </a>
                    </li>
                    <li>
                        <a id="toTop">
                            <i class="material-icons">keyboard_arrow_up</i>
                        </a>
                    </li>
                    <li>
                        <a id="toBottom">
                            <i class="material-icons">keyboard_arrow_down</i>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <div class="container">
        <div class="row">
            <!-- 提示卡片 -->
            <div class="col s12 m8">
                <div class="card yellow darken-1">
                    <div class="card-content">
                        <span class="card-title materialize-red-text">使用说明</span>
                        <p>1.访问<a href='https://movie.douban.com/'>豆瓣电影</a> 选择电影并找到 url 中的 subject
                            id. </p>
                        <img src="../static/img/hint_subject.png">
                        <p>
                            2. 输入 subject id, 点击提交按钮
                        </p>
                        <p>
                            3. 系统会查询该部电影的评论，并以词云显示
                        </p>
                        <span class="card-title materialize-red-text">示例</span>
                        <p>21318488 消失的爱人 3878007 海王 Aquaman (2018)</p>
                        <p>26752088 我不是药神 (2018) 27001001 生活大爆炸 </p>
                        <p>25937991 命运之夜</p>
                    </div>
                </div>
            </div>
            <!-- 信息输入 -->
            <div class="col s12 m4">
                <div class="card z-depth-1">
                    <div class="card-content">
                        <span class="card-title materialize-red-text">查询电影</span>
                        <div class="container">
                            <div class="row">
                                <!-- 表单域 -->
                                <form class="col s12" method="POST" enctype="multipart/form-data">
                                    <!-- 输入用户名 -->
                                    <div class="row">
                                        <div class="input-field col s12">
                                            <!-- 注意设置表单的 name 属性，根据name属性取值 -->
                                            <input name="subject" id="name" type="text" class="validate" placeholder="例：25937991">
                                            <label for="subject">电影编号</label>
                                        </div>
                                    </div>
                                    <!-- 提交表单的按钮，input type 为 submit -->
                                    <button href="#" class="waves-effect waves-light blue btn right" type="submit" name="action"
                                        id="submit_btn">提交
                                        <i class="material-icons right">send</i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 图像卡片 -->
    <div class="container">
        <div class="row">
            <!-- 图像显示 -->
            <div class="col s12 m8">
                <div class="card">
                    <div class="card-image">
                        <img src="../static/img/result.jpg">
                        <a class="card-title materialize-red-text">评论词云</a>
                    </div>
                    <div class="card-action">
                        <a href="https://github.com/amueller/word_cloud">powerd
                            by wordCloud</a>
                    </div>
                </div>
            </div>
            <!-- 评论卡片 -->
            <div class="col s12 m4">
                <div class="card yellow">
                    <div class="card-content white-text">
                        <span class="card-title materialize-red-text">评论列表 </span>
                        <iframe class="white-text" src="../static/text/showComments.txt" frameborder=0 style="width:100%; height:663px;"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col s12 m12">
                <div class="card green">
                    <div class="card-content white-text">
                        <span class="card-title materialize-red-text">情感分析列表</span>
                        <iframe class="white-text" src="../static/text/NlpResult.txt" frameborder=0 style="width:100%; height:700px;"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="page-footer blue">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">douban Comment</h5>
                    <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer
                        content.</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Requirements:</h5>
                    <p>matplotlib==3.0.2</p>
                    <p>scipy==1.1.0</p>
                    <p>jieba==0.39</p>
                    <p>wordcloud==1.5.0</p>
                    <p>Flask==1.0.2</p>
                    <p>beautifulsoup4==4.6.3</p>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © 2018 Copyright Text
                <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
            </div>
        </div>
    </footer>

    <!--预加载器(show Process)-->
    <div class="preloader-background">
        <div class="preloader-wrapper big active" style="width: 150px; height: 150px;">
            <div class="spinner-layer spinner-blue">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-red">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-yellow">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-green">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>

</body>
<script type="text/javascript">
    // 设置预加载器
    $(document).ready(function () {
        $(".preloader-wrapper").fadeOut(3000);
        $('.preloader-background').delay(1000).fadeOut('slow');
        var speed = 1000;
        $("#toTop").click(function () {
            $("html, body").animate({ "scrollTop": 0 }, speed);
        });
        //回到底部
        var windowHeight = parseInt(document.body.scrollHeight);//网页正文全文高
        console.log(windowHeight);
        $("#toBottom").click(function () {
            $("html, body").animate({ "scrollTop": windowHeight }, speed);
        });
    })
    // 设置吐司(提示信息)
    $('#submit_btn').click(function () {
        M.toast({ html: '提交成功! 正在爬取评论,请稍后…', displayLength: 5000, classes: 'rounded green' })
    })
</script>

</html>